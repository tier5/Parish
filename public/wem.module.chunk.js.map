{"version":3,"sources":["/var/www/Parish/resources/assets/Parish/src/app/wem-list/wem-routing.module.ts","/var/www/Parish/resources/assets/Parish/src/app/wem-list/wem.module.ts","/var/www/Parish/resources/assets/Parish/src/app/wem-list/wem/wem.component.css","/var/www/Parish/resources/assets/Parish/src/app/wem-list/wem/wem.component.html","/var/www/Parish/resources/assets/Parish/src/app/wem-list/wem/wem.component.ts"],"names":[],"mappings":"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","file":"wem.module.chunk.js","sourcesContent":["import {NgModule} from \"@angular/core\";\nimport {RouterModule, Routes} from \"@angular/router\";\n\nimport {WemComponent} from \"./wem/wem.component\";\n\nconst wemRoutes: Routes = [\n    { path: 'list', component: WemComponent }\n];\n\n@NgModule({\n    imports: [ RouterModule.forChild(wemRoutes) ],\n    exports: [ RouterModule\t]\n})\nexport class WemRoutingModule {}\n\n\n// WEBPACK FOOTER //\n// /var/www/Parish/resources/assets/Parish/src/app/wem-list/wem-routing.module.ts","/** module to load component and route for show and edit profile **/\n\nimport { CommonModule } from \"@angular/common\";\nimport { NgModule } from \"@angular/core\";\n\nimport { FormsModule } from \"@angular/forms\";\nimport { WemRoutingModule } from \"./wem-routing.module\";\nimport { WemComponent } from \"./wem/wem.component\";\n\n\n@NgModule({\n    declarations: [ WemComponent ],\n    imports: [\n        CommonModule,\n        FormsModule,\n        WemRoutingModule\n    ],\n    providers: []\n})\n\nexport class WemModule { }\n\n\n// WEBPACK FOOTER //\n// /var/www/Parish/resources/assets/Parish/src/app/wem-list/wem.module.ts","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /var/www/Parish/resources/assets/Parish/src/app/wem-list/wem/wem.component.css\n// module id = ../../../../../src/app/wem-list/wem/wem.component.css\n// module chunks = wem.module","module.exports = \"<div class=\\\"row\\\">\\n    <div class=\\\"col-lg-12\\\">\\n        <h3 class=\\\"page-header\\\">Wem - List</h3>\\n    </div>\\n</div><!--/.row-->\\n\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-sm-12\\\">\\n        <div class=\\\"panel panel-default\\\">\\n            <div class=\\\"panel-heading\\\">\\n                Wem List\\n            </div>\\n            <div class=\\\"panel-body overflowFix\\\">\\n\\n                <!-- Message Section -->\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"col-lg-12\\\">\\n                        <div *ngIf=\\\"!responseStatus && responseReceived\\\" class=\\\"alert alert-danger\\\">\\n                            <strong>{{ responseMsg }}</strong>\\n                        </div>\\n                    </div>\\n                    <div class=\\\"col-lg-12\\\">\\n                        <div *ngIf=\\\"responseStatus && responseReceived\\\" class=\\\"alert alert-success\\\">\\n                            <strong>{{ responseMsg }}</strong>\\n                        </div>\\n                    </div>\\n                </div>\\n\\n                <div class=\\\"table-responsive\\\">\\n                    <table class=\\\"table table-hover table-condensed\\\">\\n                        <thead>\\n                        <tr>\\n                            <th>First Name</th>\\n                            <th>Last Name</th>\\n                            <th>Email</th>\\n                            <th>Status</th>\\n                            <th>Percentage</th>\\n                            <th>Actions</th>\\n                        </tr>\\n                        </thead>\\n                        <tbody>\\n                        <tr *ngFor=\\\"let wem of wemData\\\">\\n                            <td>{{ wem.first_name }}</td>\\n                            <td>{{ wem.last_name }}</td>\\n                            <td>{{ wem.email }}</td>\\n                            <td>{{ wem.status_user }}</td>\\n                            <td><input type=\\\"text\\\" name=\\\"percentage\\\" value=\\\"{{ wem.percentage }}\\\" [(ngModel)]=\\\"wem.percentage\\\">\\n                                <button\\n                                    class=\\\"btn btn-warning btn-xs\\\"\\n                                    type=\\\"button\\\" (click)=\\\"updatePercentage(wem)\\\" >\\n                                <i class=\\\"fa fa-pencil-square-o\\\" aria-hidden=\\\"true\\\"></i>\\n                            </button></td>\\n                            <td>\\n                                <button\\n                                        class=\\\"btn btn-success btn-xs\\\"\\n                                        type=\\\"button\\\" *ngIf=\\\"wem.hold\\\" title=\\\"Click to Hold this account\\\" (click)=\\\"changeUserStatus(wem)\\\">\\n                                    <i class=\\\"fa fa-thumbs-o-up\\\" aria-hidden=\\\"true\\\"></i>\\n                                </button>\\n                                <button\\n                                        class=\\\"btn btn-danger btn-xs\\\"\\n                                        type=\\\"button\\\" *ngIf=\\\"!wem.hold\\\" title=\\\"Click to put on Exemption this account\\\" (click)=\\\"changeUserStatus(wem)\\\">\\n                                    <i class=\\\"fa fa-hand-paper-o\\\" aria-hidden=\\\"true\\\"></i>\\n                                </button>\\n                                \\n                            </td>\\n                        </tr>\\n                        <tr *ngIf=\\\"!wemData\\\">\\n                            {{ 'No WEM Found!' }}\\n                        </tr>\\n                        </tbody>\\n                    </table>\\n                </div>\\n\\n            </div>\\n        </div>\\n    </div>\\n</div><!--/.row-->\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /var/www/Parish/resources/assets/Parish/src/app/wem-list/wem/wem.component.html\n// module id = ../../../../../src/app/wem-list/wem/wem.component.html\n// module chunks = wem.module","/** Show and update logged in users profile */\n\nimport { Component } from \"@angular/core\";\nimport { NgForm } from '@angular/forms';\nimport {Response} from \"@angular/http\";\n\nimport { AuthService } from \"../../auth/auth.service\";\nimport { ActivatedRoute, Params, Router } from \"@angular/router\";\nimport { WemService } from \"../wem.service\";\nimport {Subscription} from \"rxjs/Subscription\";\n\n\n@Component({\n    selector: 'app-wem',\n    templateUrl: './wem.component.html',\n    styleUrls: ['./wem.component.css']\n})\n\nexport class WemComponent{\n\n    wemData = [];\n\n    responseReceived    : boolean = false;\n    responseStatus      : boolean = false;\n    activateReset       : boolean = true;\n    responseMsg         : string  = '';\n\n    showLoader          : boolean = false;\n    isAdmin             : boolean = false;\n\trefreshWemListSubscription  : Subscription;\n\n    /** Injecting services to be used in this component */\n    constructor( private wemService: WemService,\n                 private activatedRoute: ActivatedRoute,\n                 private authService: AuthService,\n                 private router: Router\n    ) { }\n\n    ngOnInit() {\n        /** checking for admin */\n        const user_type = this.authService.getToken().user_type;\n        if(user_type ==1){\n            this.isAdmin = true;\n        }\n        /** Subscribe to event to refresh wem list */\n\n\t\n\t    this.refreshWemListSubscription = this.wemService.refreshList\n\t\t    .subscribe(\n\t\t\t    () => {\n\t\t\t\t    this.wemService.listWEM()\n\t\t\t\t\t    .subscribe(\n\t\t\t\t\t\t    (response: Response) => {\n\t\t\t\t\t\t\t    this.wemData = response.json().wem;\n\t\t\t\t\t\t\t    this.wemData .forEach(item => {\n\t\t\t\t\t\t\t\t    let user_status = (item.status == 0) ? 'On Hold' : 'On Exemption';\n\t\t\t\t\t\t\t\t    item.status_user = user_status;\n\t\t\t\t\t\t\t\t    item.hold   = (item.status == 0) ? false : true;\n\t\t\t\t\t\t\t    });\n\t\t\t\t\t\t    },\n\t\t\t\t\t\t    (error: Response) => {\n\t\t\t\t\t\t\t\t    if ( error.status === 401 ) {\n\t\t\t\t\t\t\t\t\t    this.authService.removeToken();\n\t\t\t\t\t\t\t\t\t    this.router.navigate( [ '/login' ] );\n\t\t\t\t\t\t\t\t    }\n\t\t\t\t\t\t\t\t    this.responseStatus     = false;\n\t\t\t\t\t\t\t\t    this.responseReceived   = true;\n\t\t\t\t\t\t\t\t    this.wemData            = [];\n\t\t\t\t\t\t\t\t    this.responseMsg        = error.json().error;\n\t\t\t\t            }\n\t\t\t\t\t    );\n\t\t\t    }\n\t\t    );\n\t    /** Emitting event which will refresh the payment list */\n\t    this.wemService.refreshList.next();\n    }\n\t\n\t/** Function to change status of WEM by superadmin */\n    changeUserStatus(wem){\n        this.wemService.changeStatus(wem)\n        .subscribe(\n            (response: Response) => {\n\t            this.responseStatus = response.json().status;\n\t            this.responseMsg = response.json().message;\n\t            this.wemService.refreshList.next( {} );\n            },\n\t        (error: Response) => {\n\t\t        if ( error.status === 401 ) {\n\t\t\t        this.authService.removeToken();\n\t\t\t        this.router.navigate( [ '/login' ] );\n\t\t        }\n\t\t        this.responseStatus     = false;\n\t\t        this.responseReceived   = true;\n\t\t    }\n        );\n    }\n\t\n\t/** Function to add percentage for WEM by superadmin */\n\tupdatePercentage(wem){\n\t\tthis.wemService.editWemPercentage( wem )\n\t\t\t.subscribe(\n\t\t\t\t( response: Response ) => {\n\t\t\t\t\tthis.responseStatus = response.json().status;\n\t\t\t\t\t\n\t\t\t\t\tif ( response.json().status ) {\n\t\t\t\t\t\tthis.responseStatus = true;\n\t\t\t\t\t\tthis.responseMsg = response.json().message;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.responseMsg = '';\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\t( error: Response ) => {\n\t\t\t\t\tif( error.status === 401) {\n\t\t\t\t\t\tthis.authService.removeToken();\n\t\t\t\t\t\tthis.router.navigate( ['/login'] );\n\t\t\t\t\t}\n\t\t\t\t\t\n\t\t\t\t\tthis.responseStatus = false;\n\t\t\t\t\tthis.responseReceived = true;\n\t\t\t\t\tthis.responseMsg = error.json().error;\n\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\tthis.responseReceived = false;\n\t\t\t\t\t}, 3000 )\n\t\t\t\t},\n\t\t\t\t() => {\n\t\t\t\t\tthis.responseReceived = true;\n\t\t\t\t\tsetTimeout( () => {\n\t\t\t\t\t\tthis.responseReceived = false;\n\t\t\t\t\t}, 3000 )\n\t\t\t\t}\n\t\t\t);\n\t}\n\t\n\t/** Un-subscribing from all custom made events when component is destroyed */\n\tngOnDestroy() {\n\t\tthis.refreshWemListSubscription.unsubscribe();\n\t}\n}\n\n\n// WEBPACK FOOTER //\n// /var/www/Parish/resources/assets/Parish/src/app/wem-list/wem/wem.component.ts"],"sourceRoot":"webpack:///"}