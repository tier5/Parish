<!-- Pop Up -->
<div class="row">

    <div class="col-md-6">

        <!-- Popup -->
        <div class="alert-middle">

            <div class="alert-middle-main">
                <h4 *ngIf="calledFrom=='Province'">
                    Deleting this Province will Delete all related <strong>Zones</strong> as well as <strong>Areas</strong> and Parishes.<br/>
                    Are you sure you want to delete this<br/>
                    <strong>{{calledFrom}}</strong>?
                </h4>

                <h4 *ngIf="calledFrom=='Zone'">
                    Deleting this Zone will Delete all related <strong>Areas</strong> and Parishes.<br/>
                    Are you sure you want to delete this<br/>
                    <strong>{{calledFrom}}</strong>?
                </h4>

                <h4 *ngIf="calledFrom=='Area'">
                    Deleting this Area will Delete all related <strong>Parishes</strong>.<br/>
                    Are you sure you want to delete this<br/>
                    <strong>{{calledFrom}}</strong>?
                </h4>

                <h4 *ngIf="calledFrom=='Parish'">
                    Are you sure you want to delete this<br/>
                    <strong>{{calledFrom}}</strong>?
                </h4>

                <h4 *ngIf="calledFrom=='Payment'">
                    Are you sure you want to delete this<br/>
                    <strong>{{calledFrom}}</strong>?
                </h4>
                <h4 *ngIf="calledFrom=='CSV'">
                    <strong>{{itemText}}</strong>
                </h4>
                <h4 *ngIf="calledFrom=='PaymentReject' || calledFrom=='ReportReject'">
                    Please provide reason for rejecting this {{ itemText }}. <br/><br/>
                    <input type ="text" name="comment" [(ngModel)]="itemInfo.comment">
                </h4>
                <span class="close-btn" (click)="hidePrompt()">&times;</span>
                <div class="btn-confirm" *ngIf="calledFrom!='CSV' && calledFrom!='PaymentReject'  && calledFrom!='ReportReject' && calledFrom!='viewUploadPayment'">
                    <button class="btn btn-primary" (click)="deletePrompt()">Confirm</button>
                    <button class="btn btn-danger" (click)="hidePrompt()">Cancel</button>
                </div>
                <div class="btn-confirm" *ngIf="calledFrom=='CSV'" >
                    <button class="btn btn-primary" (click)="proceedPrompt()">Yes</button>
                    <button class="btn btn-danger" (click)="hidePrompt()">No</button>
                </div>
                <div class="btn-confirm" *ngIf="calledFrom=='PaymentReject' || calledFrom=='ReportReject'" >
                    <button class="btn btn-primary" (click)="proceedPrompt()">Save</button>
                    <button class="btn btn-danger" (click)="hidePrompt()">Cancel</button>
                </div>

                <div *ngIf="calledFrom=='viewUploadPayment'">
                    <div class="row">
                        <div class="col-lg-12">
                            <div *ngIf="responseStatus && responseReceived" class="alert alert-success">
                                <strong>{{ responseMsg }}</strong>
                            </div>
                            <div *ngIf="!responseStatus && responseReceived" class="alert alert-danger">
                                <strong>{{ responseMsg }}</strong>
                            </div>
                        </div>
                    </div>
                    <form #uploadPaymentProof="ngForm" (submit)="onSubmitPayment(uploadPaymentProof)" enctype="multipart/form-data">
                        <div class="row">
                            <div class="col-md-12">
                                <h3>Upload Payment</h3>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    Choose Year & Month (*)
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <dp-date-picker id="paymentDate"
                                                    name="payment_date"
                                                    #datePicker
                                                    #paymentDate="ngModel"
                                                    [(ngModel)]="paymentDate.payment_date"
                                                    [mode]="'month'"
                                                    [placeholder]="'Pick Month & Year'"
                                                    [config]="config"
                                                    [theme]="'dp-material'">
                                    </dp-date-picker>
                                </div>
                            </div>

                            <div class="col-md-12">
                                <div class="alert alert-danger" *ngIf="paymentDate.invalid && paymentDate.touched">
                                    Payment Date is Required!
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    Payment Description
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <textarea class="form-control" rows="3" id="pdescription"  #paymentDate="ngModel"  [(ngModel)]="paymentDate.payment_description" name="payment_description"></textarea>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    Upload File (*)
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <input
                                            id="pfile"
                                           class="form-control"
                                           name="uploadfile"
                                           required
                                           [ngModel]="paymentDate.uploadfile"
                                           #uploadFile="ngModel"
                                           type="file"

                                            accept=".pdf,.doc,.docx,.jpeg,.jpg,.PDF,.DOC,.DOCX,.JPEG,.JPG"
                                            (change)="checkUploadedFileType($event)"
                                    >
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group">
                                    (.pdf, .doc, .docx, .jpeg, .jpg, .PDF, .DOC, .DOCX, .JPEG, .JPG only accepted)
                                </div>
                            </div>
                            <div class="col-md-12">
                                <div class="form-group" >

                                    <div class="progress">
                                        <div data-percentage="0%" [ngStyle]="{ 'width': progress  + '%' }" class="progress-bar progress-bar-blue" role="progressbar" aria-valuemin="0" aria-valuemax="100"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-12">
                                <button class="btn btn-primary" [disabled]=" !length || paymentDate.invalid || !paymentDate.payment_date">
                                    <i *ngIf="showLoader" class="fa fa-spinner fa-pulse fa-lg fa-fw"></i>
                                    Submit
                                </button>

                                <button (click)="resetPaymentForm(uploadPaymentProof)"
                                        type="button"
                                        class="btn btn-default"
                                       >Reset
                                </button>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <button class="btn btn-danger pull-right" type="button" (click)="hidePrompt()">Cancel</button>
                            </div>
                        </div>
                    </form>
                </div>

            </div>

        </div>

    </div>

</div>

